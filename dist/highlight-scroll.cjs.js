var h=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var H=Object.prototype.hasOwnProperty;var v=(c,s)=>{for(var f in s)h(c,f,{get:s[f],enumerable:!0})},E=(c,s,f,u)=>{if(s&&typeof s=="object"||typeof s=="function")for(let g of G(s))!H.call(c,g)&&g!==f&&h(c,g,{get:()=>s[g],enumerable:!(u=w(s,g))||u.enumerable});return c};var b=c=>E(h({},"__esModule",{value:!0}),c);var T={};v(T,{default:()=>y});module.exports=b(T);function d(c={}){return function(s){let f=c.offset??50,u=c.highlightClasses??"ease-in-out text-blue-500 scale-110 dark:text-blue-500 transition-all";s.store("HighlightScroll",{groups:{},getGroup(t){return t||(t="default"),this.groups[t]||(this.groups[t]={scrollEl:window,offset:f,highlightClasses:u,items:[],sections:[]}),this.groups[t]},setGroupOptions({group:t="default",offset:o,highlightClasses:l}){let r=this.getGroup(t);typeof o<"u"&&(r.offset=o),typeof l<"u"&&(r.highlightClasses=l)},setScrollable({group:t="default",el:o}){let l=this.getGroup(t);l.scrollEl=o},registerItem({group:t="default",el:o,target:l}){this.getGroup(t).items.push({el:o,target:l})},registerSection({group:t="default",el:o,id:l}){this.getGroup(t).sections.push({el:o,id:l})},onScroll(t="default"){let o=this.getGroup(t),l=o.scrollEl;if(!l)return;let r=l===window?window.scrollY:l.scrollTop,i="";for(let e=0;e<o.sections.length;e++){let n=o.sections[e],p=o.sections[e+1],S=n.el.offsetTop-o.offset,m=p?p.el.offsetTop-o.offset:1/0;if(r>=S&&r<m){i=n.id;break}}for(let e of o.items)e.el.classList.remove(...o.highlightClasses.split(" "));if(i){let e=o.items.find(n=>n.target===i);e&&e.el.classList.add(...o.highlightClasses.split(" "))}},smoothScrollTo({group:t="default",target:o}){let l=this.getGroup(t),r=l.scrollEl,i=document.getElementById(o);if(!i)return;let e=i.offsetTop-l.offset;r===window?window.scrollTo({top:e,behavior:"smooth"}):r.scrollTo({top:e,behavior:"smooth"})}});function g({expression:t,evaluate:o,defaultProp:l}){if(!t||!t.trim())return{};try{let r=o(t);return typeof r=="string"?{[l]:r}:r&&typeof r=="object"?r:{[l]:t}}catch{return{[l]:t}}}s.directive("scroll-group",(t,{expression:o},{evaluate:l})=>{let r=g({expression:o,evaluate:l,defaultProp:"group"}),i=r.group||"default";s.store("HighlightScroll").setGroupOptions({group:i,offset:r.offset,highlightClasses:r.highlightClasses}),t.dataset.scrollGroup=i}),s.directive("scroll-container",(t,{expression:o},{evaluate:l})=>{let i=g({expression:o,evaluate:l,defaultProp:"group"}).group||a(t)||"default";s.store("HighlightScroll").setScrollable({group:i,el:t}),t.addEventListener("scroll",()=>{s.store("HighlightScroll").onScroll(i)}),s.store("HighlightScroll").onScroll(i)}),s.directive("scroll-item",(t,{expression:o},{evaluate:l})=>{let r;typeof o=="string"?r=g({expression:o,evaluate:l,defaultProp:"target"}):r=o;let i=r.group||a(t),e=r.target||r.id;e&&(s.store("HighlightScroll").registerItem({group:i,el:t,target:e}),t.addEventListener("click",()=>{s.store("HighlightScroll").smoothScrollTo({group:i,target:e})}))}),s.directive("scroll-section",(t,{expression:o},{evaluate:l})=>{let r;typeof o=="string"?r=g({expression:o,evaluate:l,defaultProp:"id"}):r=o;let i=r.group||a(t),e=r.id;e&&(t.id||(t.id=e),s.store("HighlightScroll").registerSection({group:i,el:t,id:e}))}),window.addEventListener("scroll",()=>{s.store("HighlightScroll").getGroup("default").scrollEl===window&&s.store("HighlightScroll").onScroll("default")}),s.store("HighlightScroll").getGroup("default").scrollEl===window&&s.store("HighlightScroll").onScroll("default");function a(t){let o=t.closest("[data-scroll-group]");return o?o.dataset.scrollGroup:"default"}}}var y=d;
